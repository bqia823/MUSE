<link rel="stylesheet" href="/css/profile.css">
<script src="\client\profile.js"></script>

    <nav class="navbar">
        <div class="navbar-logo">
            <img src="/images/logopng-after-trim.png" alt="Logo">
            <span>MUSE</span>
        </div>

        <div class="navbar-functions">
            <ul>
                <li id="home"><a href="/"><span class="icon"><img src="/images/home.png" id="home_icon"></span>Home</a></li>
          
                <li id="sign-in">
                    <a href="/user_login"><span class="icon"><img src="/images/login-box-line.png" id="sign_in_icon"></span>Sign in</a>
                </li>
                 {{#if hasUnreadNotifications}}
                <li id="notification"><a href="/notification/{{user.User_ID}}/1"><span class="icon"><img src="/images/notification-red.png" id="notification_icon"></span>Notifications</a>
                <div id="unReadComment">{{unReadComment}}</div>
                </li>
                {{else}}
                <li id="notification"><a href="/notification/{{user.User_ID}}/1"><span class="icon"><img src="/images/notification-pink.png" id="notification_icon"></span>Notifications</a></li>
                {{/if}}
                <li id="profile"><a href="/profile/{{user.User_ID}}"><span class="icon"><img src="/images/{{user.Avatar}}" id="profile_icon"></span>My Profile</a></li> 
                <li id="create-article"><a href="/create_article"><span class="icon"><img src="/images/article-line.png" id="create_article_icon"></span>Create article</a></li> 
                <li id="log-out"><a href="/logout"><span class="icon"><img src="/images/logout-box.png" id="logout_icon"></span>Sign Out</a></li>
          
            </ul>
        </div>
        
    </nav>
 <div id="icon-container">
      <div id="notificationTop">Notification</div><span><strong>Unread notification: {{unreadNotificationsCount.count}}</strong></span>
      <div id="notificationBottom">
        {{#each notifications}}
        <div class="notifications" id="notifications{{this.Notification_ID}}">
            <div class="firstLine">
              <div class="contentLine" >{{this.Content}}</div>
            {{#unless this.Is_Read}}
            <div class="red-dot"></div>
            {{/unless}}
          </div>
          
        <!-- Â§¥ÂÉèÔºåÁî®Êà∑ÂêçÔºåÂèëÂ∏ÉÊó∂Èó¥ -->
        <div class="senderInformation">{{this.Timestamp}}</div>
      </div>
      {{/each}}
      <div id="notificationMore">More</div>
    </div>
  </div>

    <div class="container">
        <div class="left-column">
            <div class="left-functions">
                <div class="navbar-left">
                    <h2>Articles</h2>
                </div>
                <div class="navbar-right">
                    {{!-- <div class="sorted-by"> --}}
                        {{!-- Sorted By: --}}
                        {{!-- <select id="sorting-options">
                            <option value="asc">Ascending by Date</option>
                            <option value="desc">Descending by Date</option>
                        </select> --}}
                    {{!-- </div> --}}
                </div>
            </div>

            {{#each articles}}
            <div class="article">
                <div class="article-info">
                    <div class="article-title">
                        <a href="/articleView/{{this.Article_ID}}" class= "article-link"><h3>{{this.Title}}</h3></a>
                        {{#if ../isAuthorPage}}  
                        <div class="editAndDeleteDiv">
                            <form action="/editArticle/{{this.Article_ID}}" method="get">
                                <button class="edit-button" onclick="editArticle('{{this.Article_ID}}')">Edit</button>
                            </form>
                            {{!-- <form action="/delete-article/{{this.Article_ID}}" method="get"> --}}
                                <button class="delete-button" onclick="confirmDelete('{{this.Article_ID}}')">Delete</button>
                            {{!-- </form> --}}
                        </div>
                        {{/if}}
                    </div>
                </div>
                    <div class="article-meta">
                        {{!-- <a href="/like?Article_ID={{article.Article_ID}}" title="Like this article!"><img src="{{likeIcon}}" class="heart"></a> --}}
                        <p class="article-likes">{{this.Likes_Count}} üíó<span class="icon"></span></p>
                        <p class="article-comments">{{this.Comments_Count}}<span class="icon"> üí¨</span></p>
                        <p class="article-author"><span class="icon">üë§</span> {{this.Username}}</p>
                        {{!-- <a href="/authorpage" class="article-author"><span class="icon">üë§</span> {{this.Username}}</a> --}}
                        <p class="article-date"><span class="icon">üìÖ</span> {{this.Date}}</p>
                    </div>
            </div>
               <div id="deleteArticle" class="deleteArticleWindow">
                    <div>Are you sure you want to delete this article?</div>
                    <div class="DeleteArticleYesAndNoButton">
                        {{!-- ËøôÈáåÁöÑuserIdÊòØÂΩìÂâçÁôªÈôÜËÄÖÁöÑid,Âà†Èô§‰πüÊòØÂà†Èô§Ëøô‰∏™ÁôªÂΩïËÄÖ --}}
                        <div><button class="yesDeleteArticle" id="yes{{this.Article_ID}}">Yes</button></div>
                        <div><button class="noDeleteArticle" id="no{{this.Article_ID}}">No</button></div>
                    </div>
                </div>
            {{/each}}

            <div class="pagenumber">
            {{!-- <div id="left" class="page">&lt;</div>
            {{#each pages}}
            <div class="pages" id="page{{this}}">{{this}}</div>
            {{/each}}
            <div class="page" id="right">&gt;</div> --}}
            </div>
        </div>
     
        <div class="right-column">
            <h2>User Profile</h2>
            <div>
                <div class="user-info-line">
                    <div class="user-avatar">
                        <img src="/images/{{userProfile.Avatar}}" alt="User Avatar">
                    </div>
                    <div id="divBesideAvatar">
                        <div class="user-follows">
                            
                            <button class="follow-button" data-user-id="{{userProfile.User_ID}}">
                                Follow
                            </button>
                            
                        </div>
                        <div id="followAndFollowerDiv">
                            <div id="followDiv"><a href="/followsList/1" id="followslink">Follows</a>: {{followsCount.[COUNT(*)]}}</div>
                            <div id="subscriberDiv"><a href="/subscribersList/1" id="followerslink">Followers</a>: {{subcriberCount.[COUNT(*)]}}</div>
                        </div>
                    </div>
                </div>
                <div>
                    <label>Username:</label>
                    <p>{{userProfile.Username}}</p>
                </div>
                <div>
                    <label>Birthday:</label>
                    <p>{{userProfile.Date_Of_Birth}}</p>
                </div>
                <div>
                    <label>Description:</label>
                    <p>{{userProfile.Brief_Description}}</p>
                </div>

                {{#if isAuthorPage}}    
                <div>
                    <label>Real Name:</label>
                    <p>{{userProfile.Real_Name}}</p>
                </div>

                <div class="analytics-delete-buttons">
                    <form action="/analytics" method="get">
                        <button type="submit" class="analytics-button">My Analytics</button>
                    </form>
                    <form action="/edit-account/{{userProfile.User_ID}}" method="get">
                        <button type="submit" class="edit-account-button">Edit Account</button>
                    </form>
                </div>
                {{/if}}
            </div>
        </div>
 </div>

